{"version":3,"sources":["../src/index.js"],"names":["app","server","createServer","use","json","limit","bodyLimit","req","res","next","header","initialize","Account","require","usernameField","passwordField","authenticate","serializeUser","deserializeUser","listen","port","console","log","green"],"mappings":";;AAOA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAGA;;;;AACA;;;;;;AAFA;AAIA,IAAIA,MAAM,wBAAV,C,CAnBA;;;;;;AAMA;;;AAeAA,IAAIC,MAAJ,GAAa,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;;AAEA;AACA;AACAA,IAAIG,GAAJ,CAAQ,qBAAWC,IAAX,CAAgB;AACpB;AACAC,WAAO,iBAAOC;AAFM,CAAhB,CAAR;;AAKAN,IAAIG,GAAJ,CAAQ,UAASI,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BD,QAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,QAAIE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACAD;AACD,CAJD;;AAMA;AACAT,IAAIG,GAAJ,CAAQ,mBAASQ,UAAT,EAAR;;AAEA,IAAIC,UAAUC,QAAQ,kBAAR,CAAd;;AAEA,mBAASV,GAAT,CAAa,4BAAa;AACtBW,mBAAe,OADO;AAEtBC,mBAAe;AAFO,CAAb,EAGVH,QAAQI,YAAR,EAHU,CAAb;;AAKA,mBAASC,aAAT,CAAuBL,QAAQK,aAAR,EAAvB;AACA,mBAASC,eAAT,CAAyBN,QAAQM,eAAR,EAAzB;;AAEA;;AAEAlB,IAAIG,GAAJ,CAAQ,SAAR;;AAEAH,IAAIC,MAAJ,CAAWkB,MAAX,CAAkB,iBAAOC,IAAzB;AACAC,QAAQC,GAAR,CAAY,iBAAOC,KAAP,kCAA4C,iBAAOH,IAAnD,SAAZ","file":"index.js","sourcesContent":["/**\n *  Aeonic ExpressJS Server \n *  Created by: Kyle Erickson\n *  Jan 20, 2017\n */\n\n// LIBRARY IMPORTS\nimport http from 'http';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport mongoose from 'mongoose';\nimport passport from 'passport';\nimport { Strategy } from 'passport-local';\nimport colors from 'colors';\n\n// FILE IMPORTS\nimport config from '../config';\nimport routes from '../routes';\n\nlet app = express();\n\napp.server = http.createServer(app);\n\n// MIDDLEWARE\n// Parse application/json requests\napp.use(bodyParser.json({\n    // Limit the body length\n    limit: config.bodyLimit\n}));\n\napp.use(function(req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  next();\n});\n\n// Passport config\napp.use(passport.initialize());\n\nlet Account = require('../model/account');\n\npassport.use(new Strategy({\n    usernameField: 'email',\n    passwordField: 'password',\n}, Account.authenticate() ));\n\npassport.serializeUser(Account.serializeUser());\npassport.deserializeUser(Account.deserializeUser());\n\n// API ROUTES V1\n\napp.use('/api/v1', routes);\n\napp.server.listen(config.port);\nconsole.log(colors.green(`API process started on port ${config.port}...`));"]}